<header class="absolute inset-x-0 top-0 z-50">
  <nav
    class="flex items-center justify-between p-6 lg:px-8 md-px-2"
    aria-label="Global"
  >
    <div class="flex lg:flex-1">
      <a href="#" class="-m-1.5 p-1.5">
        <span class="sr-only">ReFuelRoute</span>
        <!--        <img class="h-8 w-auto" src="https://tailwindui.com/plus/img/logos/mark.svg?color=indigo&shade=600" alt="">-->
        <span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            class="w-10 h-10 text-white p-2 bg-indigo-500 rounded-full"
            viewBox="0 0 24 24"
          >
            <path
              d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"
            ></path>
          </svg>
        </span>
      </a>
    </div>

    <div class="flex px-4 lg:hidden md:hidden">
      <button
        type="button"
        (click)="closeSideNav()"
        class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700"
      >
        <span class="sr-only">Open main menu</span>
        <svg
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          aria-hidden="true"
          data-slot="icon"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
          />
        </svg>
      </button>
    </div>

    @if (authService.currentUser()) {
    <div
      class="hidden lg:flex lg:gap-x-12 lg:justify-center md:flex md:justify-center md:gap-x-5 dark:text-slate-400"
    >
      <a
        href="#"
        class="text-sm font-semibold leading-6 text-gray-900 hover:text-purple-900 dark:text-slate-400 dark:hover:text-green-500"
        >Product</a
      >
      <a
        href="#"
        class="text-sm font-semibold leading-6 text-gray-900 hover:text-purple-900 dark:text-slate-400 dark:hover:text-green-500"
        >Features</a
      >
      <a
        href="#"
        class="text-sm font-semibold leading-6 text-gray-900 hover:text-purple-900 dark:text-slate-400 dark:hover:text-green-500"
        >Marketplace</a
      >
      <a
        href="#"
        class="text-sm font-semibold leading-6 text-gray-900 hover:text-purple-900 dark:text-slate-400 dark:hover:text-green-500"
        >Company</a
      >
      <a
        routerLink="/users"
        routerLinkActive="active"
        class="text-sm font-semibold leading-6 text-gray-900 hover:text-purple-900 dark:text-slate-400 dark:hover:text-green-500"
        >User</a
      >
    </div>
    }

    <div
      class="lg:flex lg:justify-end md:flex md:justify-center sm:flex sm:flex-auto sm:justify-evenly"
    >
      <div>
        @if (darkModeService.darkModeSignal() === 'dark') {
        <!--        <button class="relative w-10 h-10 bottom-1 right-16  dark:bg-white rounded-full text-white dark:text-black font-semibold">-->
        <!--          <a (click)="themeToggle()"><img class="moon cursor-pointer dark:text-slate-400" width="32px" height="32px" src="/svgs/moon_icon.svg" alt="" /></a>-->
        <!--        </button>-->
        <span (click)="toggleDarkMode()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="relative size-7 dark:text-gray-400 bottom-1 right-16"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"
            />
          </svg>
        </span>
        } @else {
        <!--        <button class="relative w-10 h-10 bottom-1 right-16 dark:bg-white rounded-full text-white dark:text-black font-semibold">-->
        <!--          <a (click)="themeToggle()"><img class="sun cursor-pointer dark:text-slate-400" width="32px" height="32px" src="/svgs/sun_icon.svg" alt="" /></a>-->
        <!--        </button>-->
        <span (click)="toggleDarkMode()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="relative size-7 bottom-1 right-16"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"
            />
          </svg>
        </span>
        }
      </div>
      @if (authService.currentUser()) {
      <div dropdown class="btn-group dropdown" placement="bottom right">
        <button
          id="button-animated"
          dropdownToggle
          type="button"
          class="btn btn-primary dropdown-toggle"
        >
          Welcome {{ authService.currentUser()?.username | titlecase
          }}<span class="caret"></span>
        </button>
        <div *dropdownMenu class="dropdown-menu" role="menu">
          <li role="menuitem"><a class="dropdown-item">Edit Profile</a></li>
          <li class="divider dropdown-divider"></li>
          <li role="menuitem">
            <a class="dropdown-item" (click)="logout()">Logout</a>
          </li>
        </div>
      </div>
      } @else {
      <button>
        <a
          (click)="login()"
          class="text-sm hover:cursor-pointer hover:text-purple-950 font-semibold leading-6 text-gray-900 dark:hover:text-green-500 dark:text-slate-400"
          >Log in <span aria-hidden="true">&rarr;</span></a
        >
      </button>

      }
    </div>

    <div></div>

    <!-- Mobile menu, show/hide based on menu open state. -->
    @if (toolbarService.menuClose() === 'close') {
    <div class="lg:hidden" role="dialog" aria-modal="true">
      <!-- Background backdrop, show/hide based on slide-over state. -->
      <div class="fixed inset-0 z-50"></div>
      <div
        class="fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10"
      >
        <div class="flex items-center justify-between">
          <a href="#" class="-m-1.5 p-1.5">
            <span class="sr-only dark:text-slate-400">Refuel Route</span>
            <img
              class="h-8 w-auto"
              src="https://tailwindui.com/plus/img/logos/mark.svg?color=indigo&shade=600"
              alt=""
            />
          </a>

          <button
            type="button"
            class="sidebar -m-2.5 rounded-md p-2.5 text-gray-700"
            #sidebar
            (click)="closeSideNav()"
          >
            <span class="sr-only dark:text-slate-400">Close menu</span>
            <svg
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              aria-hidden="true"
              data-slot="icon"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M6 18 18 6M6 6l12 12"
              />
            </svg>
          </button>
        </div>

        <div class="mt-6 flow-root">
          <div class="-my-6 divide-y divide-gray-500/10">
            <div class="space-y-2 py-6">
              <a
                href="#"
                class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50 dark:text-slate-400 dark:hover:text-green-500"
                >Product</a
              >
              <a
                href="#"
                class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50 dark:text-slate-400 dark:hover:text-green-500"
                >Features</a
              >
              <a
                href="#"
                class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50 dark:text-slate-400 dark:hover:text-green-500"
                >Marketplace</a
              >
              <a
                href="#"
                class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50 dark:text-slate-400 dark:text-slate-400"
                >Company</a
              >
            </div>
            @if (!authService.currentUser()) {
            <div class="py-6">
              <a
                routerLink="/login"
                class="-mx-3 block rounded-lg px-3 py-2.5 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50 dark:text-slate-400 dark:hover:text-green-500"
              >
                Log in
              </a>
            </div>
            }@else{
            <a
              routerLink="/users"
              routerLinkActive="active"
              class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50 dark:text-slate-400 dark:text-slate-400"
            >
              User
            </a>
            }
          </div>
        </div>
      </div>
    </div>
    }
  </nav>
</header>

